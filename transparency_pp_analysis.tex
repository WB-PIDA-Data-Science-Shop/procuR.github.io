% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{graphicx}
\makeatletter
\newsavebox\pandoc@box
\newcommand*\pandocbounded[1]{% scales image to fit in text height/width
  \sbox\pandoc@box{#1}%
  \Gscale@div\@tempa{\textheight}{\dimexpr\ht\pandoc@box+\dp\pandoc@box\relax}%
  \Gscale@div\@tempb{\linewidth}{\wd\pandoc@box}%
  \ifdim\@tempb\p@<\@tempa\p@\let\@tempa\@tempb\fi% select the smaller of both
  \ifdim\@tempa\p@<\p@\scalebox{\@tempa}{\usebox\pandoc@box}%
  \else\usebox{\pandoc@box}%
  \fi%
}
% Set default figure placement to htbp
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\usepackage{bookmark}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  pdftitle={transparency},
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\title{transparency}
\author{}
\date{\vspace{-2.5em}2025-12-02}

\begin{document}
\maketitle

The first step is to assess data completeness by examining missing
values across all variables or a defined subset. Given the limited
number of variables in the ProAct dataset, a full review can be
efficiently conducted to identify any variables with significant
underreporting. Each variable contributed to one of the ProAct
indicators.

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# ========================================================================}
\CommentTok{\# Overall missing{-}value shares (Uruguay)}
\CommentTok{\# ========================================================================}

\NormalTok{missing\_shares }\OtherTok{\textless{}{-}}\NormalTok{ uy\_proact }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{summarise}\NormalTok{(}
    \FunctionTok{across}\NormalTok{(}
      \AttributeTok{.cols  =} \SpecialCharTok{!}\FunctionTok{starts\_with}\NormalTok{(}\StringTok{"ind\_"}\NormalTok{),}
      \AttributeTok{.fns   =} \SpecialCharTok{\textasciitilde{}} \FunctionTok{mean}\NormalTok{(}\FunctionTok{is.na}\NormalTok{(.)),}
      \AttributeTok{.names =} \StringTok{"\{.col\}\_missing\_share"}
\NormalTok{    )}
\NormalTok{  )}

\NormalTok{missing\_shares\_long }\OtherTok{\textless{}{-}}\NormalTok{ missing\_shares }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{pivot\_longer}\NormalTok{(}
    \AttributeTok{cols      =} \FunctionTok{everything}\NormalTok{(),}
    \AttributeTok{names\_to  =} \StringTok{"variable"}\NormalTok{,}
    \AttributeTok{values\_to =} \StringTok{"missing\_share"}
\NormalTok{  )}

\CommentTok{\# Quick plot with raw{-}ish variable names}
\FunctionTok{ggplot}\NormalTok{(}
\NormalTok{  missing\_shares\_long,}
  \FunctionTok{aes}\NormalTok{(}
    \AttributeTok{x =} \FunctionTok{reorder}\NormalTok{(}
      \FunctionTok{gsub}\NormalTok{(}\StringTok{"\_"}\NormalTok{, }\StringTok{" "}\NormalTok{,}
           \FunctionTok{gsub}\NormalTok{(}\StringTok{"\_missing\_share"}\NormalTok{, }\StringTok{""}\NormalTok{, variable)}
\NormalTok{      ),}
\NormalTok{      missing\_share}
\NormalTok{    ),}
    \AttributeTok{y =}\NormalTok{ missing\_share}
\NormalTok{  )}
\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_col}\NormalTok{(}\AttributeTok{fill =} \StringTok{"lightblue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{coord\_flip}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Missing Value Share per Variable"}\NormalTok{,}
    \AttributeTok{x     =} \StringTok{"Variable"}\NormalTok{,}
    \AttributeTok{y     =} \StringTok{"Missing Share"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-2-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# Label lookup for nicer axis labels {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}

\NormalTok{label\_lookup }\OtherTok{\textless{}{-}} \FunctionTok{c}\NormalTok{(}
  \AttributeTok{tender\_id\_missing\_share                       =} \StringTok{"Tender ID"}\NormalTok{,}
  \AttributeTok{lot\_number\_missing\_share                      =} \StringTok{"Lot Number"}\NormalTok{,}
  \AttributeTok{bid\_number\_missing\_share                      =} \StringTok{"Number of Bids"}\NormalTok{,}
  \AttributeTok{tender\_country\_missing\_share                  =} \StringTok{"Tender Country"}\NormalTok{,}
  \AttributeTok{tender\_awarddecisiondate\_missing\_share        =} \StringTok{"Award Decision Date"}\NormalTok{,}
  \AttributeTok{tender\_biddeadline\_missing\_share              =} \StringTok{"Bid Deadline"}\NormalTok{,}
  \AttributeTok{tender\_proceduretype\_missing\_share            =} \StringTok{"Procedure Type"}\NormalTok{,}
  \AttributeTok{tender\_nationalproceduretype\_missing\_share    =} \StringTok{"National Procedure Type"}\NormalTok{,}
  \AttributeTok{tender\_supplytype\_missing\_share               =} \StringTok{"Supply Type"}\NormalTok{,}
  \AttributeTok{tender\_publications\_firstcallfortenderdate\_missing\_share =}
    \StringTok{"First Call for Tender Date"}\NormalTok{,}
  \AttributeTok{source\_missing\_share                          =} \StringTok{"Source"}\NormalTok{,}
  \AttributeTok{buyer\_masterid\_missing\_share                  =} \StringTok{"Buyer Master ID"}\NormalTok{,}
  \AttributeTok{buyer\_id\_missing\_share                        =} \StringTok{"Buyer ID"}\NormalTok{,}
  \AttributeTok{buyer\_name\_missing\_share                      =} \StringTok{"Buyer Name"}\NormalTok{,}
  \AttributeTok{buyer\_buyertype\_missing\_share                 =} \StringTok{"Buyer Type"}\NormalTok{,}
  \AttributeTok{bidder\_masterid\_missing\_share                 =} \StringTok{"Bidder Master ID"}\NormalTok{,}
  \AttributeTok{bidder\_id\_missing\_share                       =} \StringTok{"Bidder ID"}\NormalTok{,}
  \AttributeTok{bidder\_country\_missing\_share                  =} \StringTok{"Bidder Country"}\NormalTok{,}
  \AttributeTok{bidder\_name\_missing\_share                     =} \StringTok{"Bidder Name"}\NormalTok{,}
  \AttributeTok{bid\_price\_missing\_share                       =} \StringTok{"Bid Price"}\NormalTok{,}
  \AttributeTok{bid\_priceusd\_missing\_share                    =} \StringTok{"Bid Price (USD)"}\NormalTok{,}
  \AttributeTok{bid\_pricecurrency\_missing\_share               =} \StringTok{"Bid Price Currency"}\NormalTok{,}
  \AttributeTok{lot\_productcode\_missing\_share                 =} \StringTok{"Product Code"}\NormalTok{,}
  \AttributeTok{lot\_localproductcode\_type\_missing\_share       =} \StringTok{"Local Product Code Type"}\NormalTok{,}
  \AttributeTok{lot\_localproductcode\_missing\_share            =} \StringTok{"Local Product Code"}\NormalTok{,}
  \AttributeTok{submp\_missing\_share                           =} \StringTok{"Submission Period"}\NormalTok{,}
  \AttributeTok{decp\_missing\_share                            =} \StringTok{"Decision Period"}\NormalTok{,}
  \AttributeTok{is\_capital\_missing\_share                      =} \StringTok{"Capital City Indicator"}\NormalTok{,}
  \AttributeTok{lot\_title\_missing\_share                       =} \StringTok{"Lot Title"}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Here is the output

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{missing\_plot }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}
\NormalTok{  missing\_shares\_long,}
  \FunctionTok{aes}\NormalTok{(}
    \AttributeTok{x =} \FunctionTok{reorder}\NormalTok{(variable, missing\_share),}
    \AttributeTok{y =}\NormalTok{ missing\_share}
\NormalTok{  )}
\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_col}\NormalTok{(}\AttributeTok{fill =} \StringTok{"lightblue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{coord\_flip}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_discrete}\NormalTok{(}
    \AttributeTok{labels =} \ControlFlowTok{function}\NormalTok{(x) \{}
\NormalTok{      out }\OtherTok{\textless{}{-}}\NormalTok{ label\_lookup[x]}
\NormalTok{      out[}\FunctionTok{is.na}\NormalTok{(out)] }\OtherTok{\textless{}{-}}\NormalTok{ x[}\FunctionTok{is.na}\NormalTok{(out)]}
\NormalTok{      out}
\NormalTok{    \}}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Missing Value Share per Variable"}\NormalTok{,}
    \AttributeTok{x     =} \StringTok{"Variable"}\NormalTok{,}
    \AttributeTok{y     =} \StringTok{"Missing Share"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{16}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{plot.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{20}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{),}
    \AttributeTok{axis.title =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{16}\NormalTok{),}
    \AttributeTok{axis.text  =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{14}\NormalTok{)}
\NormalTok{  )}

\NormalTok{missing\_plot}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-3-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \FunctionTok{file.path}\NormalTok{(output\_dir\_uy, }\StringTok{"missing\_shares\_plot.png"}\NormalTok{),}
  \AttributeTok{plot     =}\NormalTok{ missing\_plot,}
  \AttributeTok{width    =} \DecValTok{10}\NormalTok{,}
  \AttributeTok{height   =} \DecValTok{6}\NormalTok{,}
  \AttributeTok{dpi      =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Overall data coverage is satisfactory; however, several variables
exhibit high rates of missing values. The bidder country variable is
missing in over 90\% of records. Among reported cases, approximately
10,500 are bidders from Uruguay, with isolated entries from the United
States, Argentina, and Georgia. Despite this, bidder name is
consistently available, indicating that bidder information is generally
captured, though location details are not. Submission and decision
period variables also show high missing rates, primarily due to absent
bid deadlines and tender calls. Additionally, about 17\% of entries lack
data for procedure type and product code. Subsequent analysis will
examine whether these missing values are systematically associated with
specific procedure types or buyers, as publication requirements may vary
by procedure, and data availability could depend on the buyer's
reporting practices.

\section{========================================================================}\label{section}

\section{Missing shares by buyer type
(Uruguay)}\label{missing-shares-by-buyer-type-uruguay}

\section{========================================================================}\label{section-1}

Visualising

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{missing\_by\_buyer\_plot }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}
\NormalTok{  missing\_by\_buyer,}
  \FunctionTok{aes}\NormalTok{(}
    \AttributeTok{x    =}\NormalTok{ buyer\_group,}
    \AttributeTok{y    =}\NormalTok{ variable\_label,}
    \AttributeTok{fill =}\NormalTok{ missing\_share}
\NormalTok{  )}
\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_tile}\NormalTok{(}\AttributeTok{color =} \StringTok{"white"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_text}\NormalTok{(}
    \FunctionTok{aes}\NormalTok{(}\AttributeTok{label =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{percent}\NormalTok{(missing\_share, }\AttributeTok{accuracy =} \DecValTok{1}\NormalTok{)),}
    \AttributeTok{size  =} \DecValTok{3}\NormalTok{,}
    \AttributeTok{color =} \StringTok{"black"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_gradient}\NormalTok{(}
    \AttributeTok{name   =} \StringTok{"Missing share"}\NormalTok{,}
    \AttributeTok{labels =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{percent\_format}\NormalTok{(}\AttributeTok{accuracy =} \DecValTok{1}\NormalTok{),}
    \AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{),}
    \AttributeTok{low    =} \StringTok{"skyblue1"}\NormalTok{,}
    \AttributeTok{high   =} \StringTok{"indianred1"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Missing value share per variable by buyer type"}\NormalTok{,}
    \AttributeTok{x     =} \StringTok{"Buyer type"}\NormalTok{,}
    \AttributeTok{y     =} \StringTok{"Variable"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{14}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{plot.title  =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{18}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{),}
    \AttributeTok{axis.title  =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{14}\NormalTok{),}
    \AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{12}\NormalTok{, }\AttributeTok{angle =} \DecValTok{45}\NormalTok{, }\AttributeTok{hjust =} \DecValTok{1}\NormalTok{),}
    \AttributeTok{axis.text.y =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{12}\NormalTok{)}
\NormalTok{  )}

\NormalTok{missing\_by\_buyer\_plot}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-5-1.pdf}}

\section{========================================================================}\label{section-2}

\section{Top buyers with highest overall missing share
(Uruguay)}\label{top-buyers-with-highest-overall-missing-share-uruguay}

\section{========================================================================}\label{section-3}

Visualising

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{missing\_buyers }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}
\NormalTok{  top10\_buyers\_missing,}
  \FunctionTok{aes}\NormalTok{(}
    \AttributeTok{x =} \FunctionTok{reorder}\NormalTok{(buyer\_label, missing\_share),}
    \AttributeTok{y =}\NormalTok{ missing\_share}
\NormalTok{  )}
\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_col}\NormalTok{(}\AttributeTok{fill =} \StringTok{"skyblue1"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_text}\NormalTok{(}
    \FunctionTok{aes}\NormalTok{(}\AttributeTok{label =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{percent}\NormalTok{(missing\_share, }\AttributeTok{accuracy =} \FloatTok{0.1}\NormalTok{)),}
    \AttributeTok{hjust =} \SpecialCharTok{{-}}\FloatTok{0.1}\NormalTok{,}
    \AttributeTok{size  =} \DecValTok{4}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{coord\_flip}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_y\_continuous}\NormalTok{(}
    \AttributeTok{labels =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{percent\_format}\NormalTok{(}\AttributeTok{accuracy =} \DecValTok{1}\NormalTok{),}
    \AttributeTok{expand =} \FunctionTok{expansion}\NormalTok{(}\AttributeTok{mult =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\FloatTok{0.1}\NormalTok{))}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Top 10 buyers with highest overall missing share"}\NormalTok{,}
    \AttributeTok{x     =} \StringTok{"Buyer"}\NormalTok{,}
    \AttributeTok{y     =} \StringTok{"Missing share"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{14}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{plot.title  =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{18}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{),}
    \AttributeTok{axis.text.y =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{12}\NormalTok{, }\AttributeTok{lineheight =} \FloatTok{0.9}\NormalTok{)}
\NormalTok{  )}

\NormalTok{missing\_buyers}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-7-1.pdf}}
National and other public bodies report a little less consistently than
regional entities, particularly regarding deadlines and procedure types.
The Ministry of Public Health and the Ministry of Sport show the highest
levels of underreporting. Given their extensive procurement activities,
including large infrastructure projects, improving disclosure of dates
and procedure information would significantly strengthen transparency.

\section{========================================================================}\label{section-4}

\section{Missing shares by procedure type
(Uruguay)}\label{missing-shares-by-procedure-type-uruguay}

\section{========================================================================}\label{section-5}

Visualising

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{missing\_by\_proc\_plot }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}
\NormalTok{  missing\_by\_proc,}
  \FunctionTok{aes}\NormalTok{(}
    \AttributeTok{x    =}\NormalTok{ proc\_group\_label,}
    \AttributeTok{y    =}\NormalTok{ variable\_label,}
    \AttributeTok{fill =}\NormalTok{ missing\_share}
\NormalTok{  )}
\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_tile}\NormalTok{(}\AttributeTok{color =} \StringTok{"white"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_text}\NormalTok{(}
    \FunctionTok{aes}\NormalTok{(}\AttributeTok{label =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{percent}\NormalTok{(missing\_share, }\AttributeTok{accuracy =} \DecValTok{1}\NormalTok{)),}
    \AttributeTok{size  =} \DecValTok{3}\NormalTok{,}
    \AttributeTok{color =} \StringTok{"black"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_gradient}\NormalTok{(}
    \AttributeTok{name   =} \StringTok{"Missing share"}\NormalTok{,}
    \AttributeTok{labels =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{percent\_format}\NormalTok{(}\AttributeTok{accuracy =} \DecValTok{1}\NormalTok{),}
    \AttributeTok{limits =} \FunctionTok{c}\NormalTok{(}\DecValTok{0}\NormalTok{, }\DecValTok{1}\NormalTok{),}
    \AttributeTok{low    =} \StringTok{"skyblue1"}\NormalTok{,}
    \AttributeTok{high   =} \StringTok{"indianred1"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Missing value share per variable by procedure type"}\NormalTok{,}
    \AttributeTok{x     =} \StringTok{"Procedure Type"}\NormalTok{,}
    \AttributeTok{y     =} \StringTok{"Variable"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{14}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{plot.title  =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{18}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{),}
    \AttributeTok{axis.title  =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{14}\NormalTok{),}
    \AttributeTok{axis.text.x =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{10}\NormalTok{, }\AttributeTok{angle =} \DecValTok{45}\NormalTok{, }\AttributeTok{hjust =} \DecValTok{1}\NormalTok{),}
    \AttributeTok{axis.text.y =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{10}\NormalTok{)}
\NormalTok{  )}

\NormalTok{missing\_by\_proc\_plot}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-10-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \FunctionTok{file.path}\NormalTok{(output\_dir\_uy, }\StringTok{"missing\_by\_proc\_plot.png"}\NormalTok{),}
  \AttributeTok{plot     =}\NormalTok{ missing\_by\_proc\_plot,}
  \AttributeTok{width    =} \DecValTok{10}\NormalTok{,}
  \AttributeTok{height   =} \DecValTok{6}\NormalTok{,}
  \AttributeTok{dpi      =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Some variables, such as bidder country and call for tender publication
date are consistently missing across procedure types, suggesting they
are not published regardless of reporting requirements. The procedure
type missing values show the highest missing rate among core fields,
including number of bids and dates. The cause of this gap is unclear, as
procedure type is expected to be publicly available. Exceptional
procedures follow a similar pattern, with all price-related fields
missing, likely reflecting the nature of these procedures. Missing call
for tender information for restricted procedures is also plausible, as
only preselected bidders are invited, similar to direct awards. However,
for open procedures, this information should be disclosed. The next step
is to assess whether specific buyers systematically underreport these
variables. \#
========================================================================
\# Correlation of missingness across variables (Uruguay) \#
========================================================================

\section{========================================================================}\label{section-6}

\section{Missing shares over time (by tender year,
Uruguay)}\label{missing-shares-over-time-by-tender-year-uruguay}

\section{========================================================================}\label{section-7}

Analyzing missing values by year, quarter, or month helps identify
whether underreporting stems from publication practices - for example,
delays in updating recent records, platform transitions, or uneven
reporting across periods.

Visualising

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{year\_miss }\OtherTok{\textless{}{-}}\NormalTok{ missing\_by\_year }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(variable\_label }\SpecialCharTok{\%in\%}\NormalTok{ top\_vars) }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{ggplot}\NormalTok{(}
    \FunctionTok{aes}\NormalTok{(}
      \AttributeTok{x     =}\NormalTok{ tender\_year,}
      \AttributeTok{y     =}\NormalTok{ missing\_share,}
      \AttributeTok{color =}\NormalTok{ variable\_label}
\NormalTok{    )}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{size =} \FloatTok{1.2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_point}\NormalTok{(}\AttributeTok{size =} \DecValTok{2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_y\_continuous}\NormalTok{(}\AttributeTok{labels =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{percent\_format}\NormalTok{(}\AttributeTok{accuracy =} \DecValTok{1}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Trends in missing shares over time (top 7 variables)"}\NormalTok{,}
    \AttributeTok{x     =} \StringTok{"Year"}\NormalTok{,}
    \AttributeTok{y     =} \StringTok{"Missing share"}\NormalTok{,}
    \AttributeTok{color =} \StringTok{"Variable"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{14}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme}\NormalTok{(}
    \AttributeTok{plot.title      =} \FunctionTok{element\_text}\NormalTok{(}\AttributeTok{size =} \DecValTok{18}\NormalTok{, }\AttributeTok{face =} \StringTok{"bold"}\NormalTok{),}
    \AttributeTok{legend.position =} \StringTok{"bottom"}
\NormalTok{  )}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## i Please use `linewidth` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{year\_miss}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-13-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \FunctionTok{file.path}\NormalTok{(output\_dir\_uy, }\StringTok{"year\_miss.png"}\NormalTok{),}
  \AttributeTok{plot     =}\NormalTok{ year\_miss,}
  \AttributeTok{width    =} \DecValTok{10}\NormalTok{,}
  \AttributeTok{height   =} \DecValTok{6}\NormalTok{,}
  \AttributeTok{dpi      =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In Uruguay, 2018 appears to be the last year of data updates. The
highest missing rates occur in the initial year of publication when the
transition to the online platform began and data were incomplete, and
then again in 2018, likely reflecting partial publication during the
final data upload.

Not all of the key variables are present in Uruguay, so we use Bulgarian
data to complement the examples with more populated dataset.

\section{========================================================================}\label{section-8}

\section{Missing share by buyer location (BG,
NUTS3)}\label{missing-share-by-buyer-location-bg-nuts3}

\section{========================================================================}\label{section-9}

Analyzing missing values by region or municipality can reveal whether
local buyers systematically underreport compared to national entities.
While buyer location data are unavailable for Uruguay, Bulgaria
illustrates the approach. Missing value shares vary little across NUTS3
regions (within four percentage points), with the outskirts of Sofia
showing slightly lower reporting rates.

Visualising

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bg\_map }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(bg\_map\_data) }\SpecialCharTok{+}
  \FunctionTok{geom\_sf}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{fill =}\NormalTok{ missing\_share), }\AttributeTok{color =} \StringTok{"grey40"}\NormalTok{, }\AttributeTok{size =} \FloatTok{0.2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_distiller}\NormalTok{(}
    \AttributeTok{palette   =} \StringTok{"Blues"}\NormalTok{,}
    \AttributeTok{direction =} \DecValTok{1}\NormalTok{,}
    \AttributeTok{na.value  =} \StringTok{"grey90"}\NormalTok{,}
    \AttributeTok{labels    =}\NormalTok{ scales}\SpecialCharTok{::}\FunctionTok{percent\_format}\NormalTok{(}\AttributeTok{accuracy =} \DecValTok{1}\NormalTok{),}
    \AttributeTok{name      =} \StringTok{"Missing share"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title =} \StringTok{"Overall share of missing values by NUTS3 region (Bulgaria)"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}

\NormalTok{bg\_map}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-16-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \FunctionTok{file.path}\NormalTok{(output\_dir\_bg, }\StringTok{"bg\_map.png"}\NormalTok{),}
  \AttributeTok{plot     =}\NormalTok{ bg\_map,}
  \AttributeTok{width    =} \DecValTok{10}\NormalTok{,}
  \AttributeTok{height   =} \DecValTok{6}\NormalTok{,}
  \AttributeTok{dpi      =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{========================================================================}\label{section-10}

\section{Companies tax haven (FSI data) -- not used later
yet}\label{companies-tax-haven-fsi-data-not-used-later-yet}

\section{========================================================================}\label{section-11}

TBD

\section{========================================================================}\label{section-12}

\section{Unusual supplier market entries by CPV cluster
(Uruguay)}\label{unusual-supplier-market-entries-by-cpv-cluster-uruguay}

\section{========================================================================}\label{section-13}

We identify atypical market entry in public procurement by analyzing
winners across CPV (Common Procurement Vocabulary) clusters and mapping
statistically unusual cross-sector movements. First, we group contract
awards by bidder and 3-digit CPV cluster and compute each bidder's
portfolio in that cluster (number and value of awards, and its share in
the bidder's total activity). We then restrict attention to bidders with
sufficient history (≥4 awards or \textgreater{} 25th percentile) and
flag ``atypical'' markets where a cluster represents less than 5 percent
of the bidder's portfolio and no more than three wins. In parallel, for
every bidder--cluster pair we estimate the conditional probability of a
bidder winning in that cluster, based on all awards in the market, and
derive a surprise score (the negative log of this probability,
standardized to a z-score). Each bidder's ``home market'' is defined as
the cluster where it wins the most awards; atypical wins in other
clusters are treated as unusual entries. Aggregating these entries to
the level of home-cluster → target-cluster pairs, we count how many
distinct bidders make each move and compute the average standardized
surprise. The resulting directed network of CPV clusters uses edge
thickness to reflect the number of bidders involved and edge color to
reflect the mean surprise level, highlighting markets and market pairs
where cross-sector participation is unusually frequent and may warrant
closer integrity and classification review.

Visualising

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\# 5. Network visualisation of unusual market entries {-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}{-}}

\NormalTok{edges\_markets }\OtherTok{\textless{}{-}}\NormalTok{ unusual\_matrix }\SpecialCharTok{\%\textgreater{}\%}
  \FunctionTok{filter}\NormalTok{(n\_bidders }\SpecialCharTok{\textgreater{}=} \DecValTok{4}\NormalTok{) }\SpecialCharTok{\%\textgreater{}\%}   \CommentTok{\# threshold to avoid “hairball” network}
  \FunctionTok{rename}\NormalTok{(}
    \AttributeTok{from =}\NormalTok{ home\_cpv\_cluster,}
    \AttributeTok{to   =}\NormalTok{ target\_cpv\_cluster}
\NormalTok{  )}

\NormalTok{g\_markets }\OtherTok{\textless{}{-}} \FunctionTok{graph\_from\_data\_frame}\NormalTok{(edges\_markets, }\AttributeTok{directed =} \ConstantTok{TRUE}\NormalTok{)}

\NormalTok{uy\_supp\_net }\OtherTok{\textless{}{-}} \FunctionTok{ggraph}\NormalTok{(g\_markets, }\AttributeTok{layout =} \StringTok{"fr"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_edge\_link}\NormalTok{(}
    \FunctionTok{aes}\NormalTok{(}\AttributeTok{width =}\NormalTok{ n\_bidders, }\AttributeTok{colour =}\NormalTok{ mean\_surprise),}
    \AttributeTok{arrow   =} \FunctionTok{arrow}\NormalTok{(}\AttributeTok{length =}\NormalTok{ grid}\SpecialCharTok{::}\FunctionTok{unit}\NormalTok{(}\FloatTok{0.15}\NormalTok{, }\StringTok{"cm"}\NormalTok{)),}
    \AttributeTok{end\_cap =} \FunctionTok{circle}\NormalTok{(}\DecValTok{2}\NormalTok{, }\StringTok{"mm"}\NormalTok{),}
    \AttributeTok{alpha   =} \FloatTok{0.6}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{geom\_node\_point}\NormalTok{(}\AttributeTok{size =} \DecValTok{4}\NormalTok{, }\AttributeTok{colour =} \StringTok{"darkorange"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_node\_text}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{label =}\NormalTok{ name), }\AttributeTok{repel =} \ConstantTok{TRUE}\NormalTok{, }\AttributeTok{size =} \DecValTok{3}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_edge\_width}\NormalTok{(}\AttributeTok{range =} \FunctionTok{c}\NormalTok{(}\FloatTok{0.2}\NormalTok{, }\DecValTok{2}\NormalTok{)) }\SpecialCharTok{+}
  \FunctionTok{scale\_edge\_colour\_continuous}\NormalTok{(}
    \AttributeTok{low  =} \StringTok{"green"}\NormalTok{,}
    \AttributeTok{high =} \StringTok{"red"}\NormalTok{,}
    \AttributeTok{name =} \StringTok{"Mean surprise score (standardised)"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title    =} \StringTok{"Network of unusual market entries"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Nodes represent CPV clusters; edges show atypical flow of bidders between markets"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_void}\NormalTok{()}

\NormalTok{uy\_supp\_net}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-19-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \FunctionTok{file.path}\NormalTok{(output\_dir\_uy, }\StringTok{"UY\_supp\_net.png"}\NormalTok{),}
  \AttributeTok{plot     =}\NormalTok{ uy\_supp\_net,}
  \AttributeTok{width    =} \DecValTok{10}\NormalTok{,}
  \AttributeTok{height   =} \DecValTok{6}\NormalTok{,}
  \AttributeTok{dpi      =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{========================================================================}\label{section-14}

\section{Buyer--supplier concentration
(Uruguay)}\label{buyersupplier-concentration-uruguay}

\section{========================================================================}\label{section-15}

This analysis measures the share of a buyer's total annual spending that
goes to a single supplier. In other words, it examines how concentrated
a buyer's expenditures are among specific suppliers, focusing on the
total value of contracts rather than the number of contracts.

Visualising

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bc\_overall }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}
\NormalTok{  top\_buyers,}
  \FunctionTok{aes}\NormalTok{(}
    \AttributeTok{x =} \FunctionTok{reorder}\NormalTok{(buyer\_masterid, max\_conc),}
    \AttributeTok{y =}\NormalTok{ max\_conc}
\NormalTok{  )}
\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_col}\NormalTok{(}\AttributeTok{fill =} \StringTok{"skyblue1"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_text}\NormalTok{(}
    \FunctionTok{aes}\NormalTok{(}\AttributeTok{label =}\NormalTok{ total\_contracts),}
    \AttributeTok{hjust =} \SpecialCharTok{{-}}\FloatTok{0.1}\NormalTok{,}
    \AttributeTok{size  =} \FloatTok{3.2}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{coord\_flip}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{theme\_bw}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title    =} \StringTok{"Top 50 Buyers by Maximum Supplier Concentration"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Labels show total number of contracts procured by buyer"}\NormalTok{,}
    \AttributeTok{x        =} \StringTok{"Buyer ID"}\NormalTok{,}
    \AttributeTok{y        =} \StringTok{"Max Share of Spending to One Supplier"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{ylim}\NormalTok{(}\DecValTok{0}\NormalTok{, }\FloatTok{1.05}\NormalTok{)}

\NormalTok{bc\_overall}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-21-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \FunctionTok{file.path}\NormalTok{(output\_dir\_uy, }\StringTok{"bc\_overall.png"}\NormalTok{),}
  \AttributeTok{plot     =}\NormalTok{ bc\_overall,}
  \AttributeTok{width    =} \DecValTok{10}\NormalTok{,}
  \AttributeTok{height   =} \DecValTok{8}\NormalTok{,}
  \AttributeTok{dpi      =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\section{========================================================================}\label{section-16}

\section{Buyer--supplier concentration by year
(Uruguay)}\label{buyersupplier-concentration-by-year-uruguay}

\section{========================================================================}\label{section-17}

Visualising

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{bc\_yearly }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(}
\NormalTok{  top\_buyers\_yearly,}
  \FunctionTok{aes}\NormalTok{(}
    \AttributeTok{x     =} \FunctionTok{reorder\_within}\NormalTok{(buyer\_masterid, max\_conc, tender\_year),}
    \AttributeTok{y     =}\NormalTok{ max\_conc,}
    \AttributeTok{fill  =}\NormalTok{ repeated}
\NormalTok{  )}
\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_col}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{geom\_text}\NormalTok{(}
    \FunctionTok{aes}\NormalTok{(}\AttributeTok{label =}\NormalTok{ total\_contracts, }\AttributeTok{color =}\NormalTok{ repeated),}
    \AttributeTok{hjust       =} \SpecialCharTok{{-}}\FloatTok{0.1}\NormalTok{,}
    \AttributeTok{size        =} \FloatTok{2.8}\NormalTok{,}
    \AttributeTok{show.legend =} \ConstantTok{FALSE}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{coord\_flip}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{facet\_wrap}\NormalTok{(}\SpecialCharTok{\textasciitilde{}}\NormalTok{ tender\_year, }\AttributeTok{scales =} \StringTok{"free\_y"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{scale\_x\_reordered}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{scale\_fill\_manual}\NormalTok{(}
    \AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{\textasciigrave{}}\AttributeTok{FALSE}\StringTok{\textasciigrave{}} \OtherTok{=} \StringTok{"skyblue1"}\NormalTok{, }\StringTok{\textasciigrave{}}\AttributeTok{TRUE}\StringTok{\textasciigrave{}} \OtherTok{=} \StringTok{"red"}\NormalTok{),}
    \AttributeTok{name   =} \StringTok{"Buyer appears}\SpecialCharTok{\textbackslash{}n}\StringTok{in multiple years"}\NormalTok{,}
    \AttributeTok{labels =} \FunctionTok{c}\NormalTok{(}\StringTok{"No"}\NormalTok{, }\StringTok{"Yes"}\NormalTok{)}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{scale\_color\_manual}\NormalTok{(}
    \AttributeTok{values =} \FunctionTok{c}\NormalTok{(}\StringTok{\textasciigrave{}}\AttributeTok{FALSE}\StringTok{\textasciigrave{}} \OtherTok{=} \StringTok{"black"}\NormalTok{, }\StringTok{\textasciigrave{}}\AttributeTok{TRUE}\StringTok{\textasciigrave{}} \OtherTok{=} \StringTok{"red4"}\NormalTok{)}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_bw}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{11}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title    =} \StringTok{"Top 30 Buyers by Maximum Spending Concentration per Year"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Red bars = buyers that appear in the top list in multiple years}\SpecialCharTok{\textbackslash{}n}\StringTok{Labels show total number of contracts per year{-}buyer"}\NormalTok{,}
    \AttributeTok{x        =} \StringTok{"Buyer ID"}\NormalTok{,}
    \AttributeTok{y        =} \StringTok{"Max Share of Spending to One Supplier"}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{ylim}\NormalTok{(}\DecValTok{0}\NormalTok{, }\FloatTok{1.05}\NormalTok{)}

\NormalTok{bc\_yearly}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-23-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \FunctionTok{file.path}\NormalTok{(output\_dir\_uy, }\StringTok{"bc\_yearly.png"}\NormalTok{),}
  \AttributeTok{plot     =}\NormalTok{ bc\_yearly,}
  \AttributeTok{width    =} \DecValTok{10}\NormalTok{,}
  \AttributeTok{height   =} \DecValTok{8}\NormalTok{,}
  \AttributeTok{dpi      =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

In Uruguay, it appears that many buyers award nearly all (more than
75\%) of their total contract value to the same supplier, and that
multiple buyers do so consistently over several years. These cases
require closer examination, as such a concentration of spending may
indicate potentially suspicious relationships, although this depends on
the type of tenders and the characteristics of the market. \#
========================================================================
\# Effect of non-transparency on competition (Uruguay) \#
========================================================================
To examine the impact of non-transparent buyers on competition in the
tenders they procure, a regression analysis was conducted at the
buyer--year level, capturing variation within buyers over time. This
regression includes additional control variables, such as the number of
contracts per buyer--year and the total value of procured contracts.

Running model and visualising

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model\_fe\_uy }\OtherTok{\textless{}{-}} \FunctionTok{feols}\NormalTok{(}
\NormalTok{  cumulative\_singleb\_rate }\SpecialCharTok{\textasciitilde{}}\NormalTok{ cumulative\_missing\_share }\SpecialCharTok{+}
    \FunctionTok{log1p}\NormalTok{(n\_contracts) }\SpecialCharTok{+}
    \FunctionTok{log1p}\NormalTok{(avg\_contract\_value) }\SpecialCharTok{|}
\NormalTok{    buyer\_masterid }\SpecialCharTok{+}\NormalTok{ tender\_year,}
  \AttributeTok{data =}\NormalTok{ buyer\_analysis}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## NOTES: 12 observations removed because of NA values (LHS: 12).
##        9/0 fixed-effect singletons were removed (9 observations).
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{summary}\NormalTok{(model\_fe\_uy)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## OLS estimation, Dep. Var.: cumulative_singleb_rate
## Observations: 947
## Fixed-effects: buyer_masterid: 259,  tender_year: 4
## Standard-errors: IID 
##                            Estimate Std. Error   t value Pr(>|t|)    
## cumulative_missing_share  44.708745  18.852166  2.371544 0.017991 *  
## log1p(n_contracts)        -2.092566   0.883663 -2.368058 0.018160 *  
## log1p(avg_contract_value)  0.414607   0.490614  0.845077 0.398364    
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## RMSE: 14.6     Adj. R2: 0.379165
##              Within R2: 0.015308
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pred\_uy }\OtherTok{\textless{}{-}} \FunctionTok{ggpredict}\NormalTok{(model\_fe\_uy, }\AttributeTok{terms =} \StringTok{"cumulative\_missing\_share"}\NormalTok{)}

\NormalTok{reg\_uy }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(pred\_uy, }\FunctionTok{aes}\NormalTok{(x, predicted)) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{size =} \FloatTok{1.5}\NormalTok{, }\AttributeTok{color =} \StringTok{"lightblue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_ribbon}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{ymin =}\NormalTok{ conf.low, }\AttributeTok{ymax =}\NormalTok{ conf.high), }\AttributeTok{alpha =} \FloatTok{0.2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title    =} \StringTok{"Predicted Single{-}Bidding by Missing Share"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Fixed{-}effects model controlling for buyer and year"}\NormalTok{,}
    \AttributeTok{x        =} \StringTok{"Buyer Missing Share"}\NormalTok{,}
    \AttributeTok{y        =} \StringTok{"Predicted Single{-}Bidding Share"}\NormalTok{,}
    \AttributeTok{caption  =} \StringTok{"Note: The graph shows the predicted average share of single{-}bid tenders per buyer{-}year}\SpecialCharTok{\textbackslash{}n}\StringTok{based on a two{-}way fixed{-}effects model (buyer and year). Shaded area = 95\% confidence interval."}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{20}\NormalTok{)}

\NormalTok{reg\_uy}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-25-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \FunctionTok{file.path}\NormalTok{(output\_dir\_uy, }\StringTok{"reg\_singleb\_missing\_share.png"}\NormalTok{),}
  \AttributeTok{plot     =}\NormalTok{ reg\_uy,}
  \AttributeTok{width    =} \DecValTok{10}\NormalTok{,}
  \AttributeTok{height   =} \DecValTok{8}\NormalTok{,}
  \AttributeTok{dpi      =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Based on this analysis, a higher proportion of missing data from buyers
is associated with a higher share of single-bid tenders per buyer. When
no information is missing, the predicted single-bidding share is around
64 (where the single-bidding indicator equals 100 when only one bid is
submitted and 0 when multiple bids are submitted). This means that
slightly more than half of all tenders receive only one bid. As the
buyer's missing data share increases to 0.4, the predicted
single-bidding share rises to 78, indicating that more than
three-quarters of all tenders receive only one bid when buyer
information is absent in almost half of key fields. \#
========================================================================
\# Effect on relative price in BG \#
========================================================================
Another way to assess the impact of missing information is to examine
its effect on the relative price. The relative price is calculated as
the final contract price divided by the estimated price. A value above 1
indicates that the tender did not receive a discount and resulted in a
higher-than-estimated contract price, while a value below 1 suggests the
presence of a discount. This effect can be analyzed at the contract
level using a regression model that includes controls for year and
number of bids, as well as buyer type controls over time.

Running model and visualising

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{model\_lm\_bg }\OtherTok{\textless{}{-}} \FunctionTok{lm}\NormalTok{(}
\NormalTok{  relative\_price }\SpecialCharTok{\textasciitilde{}}\NormalTok{ total\_missing\_share }\SpecialCharTok{+}
\NormalTok{    buyer\_buyertype }\SpecialCharTok{+}
\NormalTok{    tender\_proceduretype }\SpecialCharTok{+}
    \FunctionTok{as.factor}\NormalTok{(tender\_year),}
  \AttributeTok{data =}\NormalTok{ bg\_proact\_reg}
\NormalTok{)}

\FunctionTok{summary}\NormalTok{(model\_lm\_bg)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Call:
## lm(formula = relative_price ~ total_missing_share + buyer_buyertype + 
##     tender_proceduretype + as.factor(tender_year), data = bg_proact_reg)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -1.2008 -0.2130 -0.0459  0.0711  4.1069 
## 
## Coefficients:
##                                                     Estimate Std. Error t value
## (Intercept)                                         1.044580   0.025307  41.277
## total_missing_share                                 0.410248   0.266062   1.542
## buyer_buyertypeEUROPEAN_AGENCY                      0.059882   0.196029   0.305
## buyer_buyertypeNATIONAL_AGENCY                     -0.024095   0.037851  -0.637
## buyer_buyertypeNATIONAL_AUTHORITY                  -0.037180   0.018429  -2.018
## buyer_buyertypeOTHER                                0.088215   0.022684   3.889
## buyer_buyertypePUBLIC_BODY                          0.131140   0.015819   8.290
## buyer_buyertypeREGIONAL_AGENCY                      0.005050   0.337934   0.015
## buyer_buyertypeREGIONAL_AUTHORITY                  -0.007534   0.017125  -0.440
## tender_proceduretypeCOMPETITIVE_DIALOG              0.085749   0.675413   0.127
## tender_proceduretypeNEGOTIATED                     -0.046135   0.046868  -0.984
## tender_proceduretypeNEGOTIATED_WITH_PUBLICATION    -0.021513   0.027352  -0.787
## tender_proceduretypeNEGOTIATED_WITHOUT_PUBLICATION -0.080996   0.049861  -1.624
## tender_proceduretypeRESTRICTED                     -0.039601   0.098778  -0.401
## as.factor(tender_year)2013                         -0.144930   0.023728  -6.108
## as.factor(tender_year)2014                         -0.146135   0.022266  -6.563
## as.factor(tender_year)2015                         -0.079410   0.021832  -3.637
## as.factor(tender_year)2016                         -0.094211   0.022767  -4.138
## as.factor(tender_year)2017                         -0.096904   0.024375  -3.976
## as.factor(tender_year)2018                         -0.087693   0.023647  -3.708
## as.factor(tender_year)2019                         -0.114972   0.023847  -4.821
## as.factor(tender_year)2020                         -0.097145   0.045039  -2.157
##                                                    Pr(>|t|)    
## (Intercept)                                         < 2e-16 ***
## total_missing_share                                0.123105    
## buyer_buyertypeEUROPEAN_AGENCY                     0.760006    
## buyer_buyertypeNATIONAL_AGENCY                     0.524408    
## buyer_buyertypeNATIONAL_AUTHORITY                  0.043655 *  
## buyer_buyertypeOTHER                               0.000101 ***
## buyer_buyertypePUBLIC_BODY                          < 2e-16 ***
## buyer_buyertypeREGIONAL_AGENCY                     0.988077    
## buyer_buyertypeREGIONAL_AUTHORITY                  0.659973    
## tender_proceduretypeCOMPETITIVE_DIALOG             0.898975    
## tender_proceduretypeNEGOTIATED                     0.324950    
## tender_proceduretypeNEGOTIATED_WITH_PUBLICATION    0.431572    
## tender_proceduretypeNEGOTIATED_WITHOUT_PUBLICATION 0.104299    
## tender_proceduretypeRESTRICTED                     0.688491    
## as.factor(tender_year)2013                         1.03e-09 ***
## as.factor(tender_year)2014                         5.38e-11 ***
## as.factor(tender_year)2015                         0.000276 ***
## as.factor(tender_year)2016                         3.52e-05 ***
## as.factor(tender_year)2017                         7.04e-05 ***
## as.factor(tender_year)2018                         0.000209 ***
## as.factor(tender_year)2019                         1.44e-06 ***
## as.factor(tender_year)2020                         0.031024 *  
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.6752 on 22236 degrees of freedom
##   (103468 observations deleted due to missingness)
## Multiple R-squared:  0.01463,    Adjusted R-squared:  0.0137 
## F-statistic: 15.72 on 21 and 22236 DF,  p-value: < 2.2e-16
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{pred\_bg }\OtherTok{\textless{}{-}} \FunctionTok{ggpredict}\NormalTok{(model\_lm\_bg, }\AttributeTok{terms =} \StringTok{"total\_missing\_share"}\NormalTok{)}

\NormalTok{reg\_bg }\OtherTok{\textless{}{-}} \FunctionTok{ggplot}\NormalTok{(pred\_bg, }\FunctionTok{aes}\NormalTok{(x, predicted)) }\SpecialCharTok{+}
  \FunctionTok{geom\_line}\NormalTok{(}\AttributeTok{size =} \FloatTok{1.5}\NormalTok{, }\AttributeTok{color =} \StringTok{"lightblue"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{geom\_ribbon}\NormalTok{(}\FunctionTok{aes}\NormalTok{(}\AttributeTok{ymin =}\NormalTok{ conf.low, }\AttributeTok{ymax =}\NormalTok{ conf.high), }\AttributeTok{alpha =} \FloatTok{0.2}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}
    \AttributeTok{title    =} \StringTok{"Predicted Relative Price by Missing Share"}\NormalTok{,}
    \AttributeTok{subtitle =} \StringTok{"Controls included for procedure type, tender year, buyer type"}\NormalTok{,}
    \AttributeTok{x        =} \StringTok{"Total Missing Share"}\NormalTok{,}
    \AttributeTok{y        =} \StringTok{"Predicted Relative Price"}\NormalTok{,}
    \AttributeTok{caption  =} \StringTok{"Note: The graph shows the predicted relative price per contract.}\SpecialCharTok{\textbackslash{}n}\StringTok{Shaded area = 95\% confidence interval."}
\NormalTok{  ) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{(}\AttributeTok{base\_size =} \DecValTok{20}\NormalTok{)}

\NormalTok{reg\_bg}
\end{Highlighting}
\end{Shaded}

\pandocbounded{\includegraphics[keepaspectratio]{transparency_pp_analysis_files/figure-latex/unnamed-chunk-27-1.pdf}}

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggsave}\NormalTok{(}
  \AttributeTok{filename =} \FunctionTok{file.path}\NormalTok{(output\_dir\_bg, }\StringTok{"reg\_relative\_price\_missing\_share.png"}\NormalTok{),}
  \AttributeTok{plot     =}\NormalTok{ reg\_bg,}
  \AttributeTok{width    =} \DecValTok{10}\NormalTok{,}
  \AttributeTok{height   =} \DecValTok{8}\NormalTok{,}
  \AttributeTok{dpi      =} \DecValTok{300}
\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Based on the analysis, a high proportion of missing values in key
contract-level fields is associated with an increase in the relative
price. When no information is missing, the predicted relative price is
approximately 1.05 - close to the originally estimated price. However,
when up to 20\% of the data is missing, the predicted relative price
rises to 1.13, indicating a tendency toward more overpriced contracts.

\end{document}
